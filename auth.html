<!doctype html>
<html lang="en" data-theme="forest">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ThreadlessCoin Â· Auth</title>

<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  base-uri 'none';
  img-src 'self' data:;
  style-src 'self' 'unsafe-inline';
  script-src 'self' https://cdn.jsdelivr.net 'unsafe-inline';
  connect-src 'self' https://*.supabase.co wss://*.supabase.co;
  upgrade-insecure-requests;">

<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect width='64' height='64' rx='12' fill='%230e1613'/%3E%3Ccircle cx='32' cy='32' r='26' fill='none' stroke='%23ff8b3d' stroke-width='4'/%3E%3Cpath d='M20 22h24M20 32h24M20 42h24' stroke='%23ff8b3d' stroke-width='6' stroke-linecap='round'/%3E%3C/svg%3E">

<style>
:root{
  --bg:#0e1613; --card:#122019; --ink:#e9f5ee; --muted:#9db7ab; --line:#1e2e27;
  --accent:#ff8b3d; --accent-2:#1f9d68; --accent-2-ink:#06120d;
  --font: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
}
body{
  margin:0; height:100dvh; display:grid; place-items:center;
  background: var(--bg); color:var(--ink); font:16px/1.5 var(--font);
}
.box{
  max-width:520px; padding:24px; border-radius:16px; border:1px solid var(--line);
  background:linear-gradient(180deg, color-mix(in srgb, var(--accent-2) 10%, transparent), transparent 55%), var(--card);
  text-align:center; box-shadow:0 20px 60px rgba(0,0,0,.35);
}
h1{margin:0 0 8px}
p{color:var(--muted); margin:0 0 16px}
.btn{border:0; border-radius:12px; padding:10px 16px; font-weight:800; cursor:pointer;
  background:linear-gradient(180deg, var(--accent), color-mix(in srgb, var(--accent) 75%, #000 25%));
  color:#28150a;
}
small{display:block; color:var(--muted); margin-top:10px}
</style>
</head>
<body>
  <div class="box">
    <h1>Success! Account made ðŸŽ‰</h1>
    <p>Youâ€™re signed in. Letâ€™s head back to ThreadlessCoin.</p>
    <button id="go" class="btn">Continue</button>
    <small id="who"></small>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
  const SUPABASE_URL  = 'https://YOUR-PROJECT.supabase.co';
  const SUPABASE_ANON = 'YOUR-ANON-KEY';
  const sb = supabase.createClient(SUPABASE_URL, SUPABASE_ANON);

  // Show who we are (if available)
  (async ()=>{
    // new session should already be set by the magic link before redirecting here
    const { data } = await sb.auth.getUser();
    if (data?.user?.email){
      document.getElementById('who').textContent = 'Signed in as ' + data.user.email;
    }
  })();

  document.getElementById('go').addEventListener('click', ()=>{
    // return to index.html (same folder)
    const back = new URL('./', location.href).href;
    location.href = back;
  });
  </script>
</body>
</html>
